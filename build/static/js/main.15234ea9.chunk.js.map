{"version":3,"sources":["api/index.js","actions/cart-actions.js","reducers/cart-reducer.js","reducers/index.js","store.js","PrivateRoute.js","page/login.jsx","page/home.jsx","components/AsyncComponent.js","router/config.js","router/index.js","App.js","index.js"],"names":["service","axios","create","baseURL","timeout","interceptors","response","use","data","error","console","log","__webpack_require__","d","__webpack_exports__","ADD_TO_CART","DELETE_FROM_CART","GET_AJAX_LIST","addTo","cart_actions_ajaxList","type","payload","name","ajaxList","dispatch","post","then","res","action","initListAction","initialState","cart","test","allReducers","shoppingCart","state","arguments","length","undefined","Object","assign","objectSpread","concat","toConsumableArray","filter","item","index","list","rootReducer","combineReducers","store","createStore","applyMiddleware","thunk","RrivateRoute","_ref","Component","component","props","objectWithoutProperties","react_default","a","createElement","react_router","render","p","localStorage","getItem","to","pathname","Login","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","isLogin","setItem","history","push","className","onClick","handleClick","bind","About","Home","loginState","url","map","key","react_router_dom","asyncComponent","importComponent","_Component","AsyncComponent","inherits","createClass","value","_componentDidMount","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","sent","default","setState","stop","apply","C","config","menus","title","e","others","Welcome","React","RootRouter","r","indexOf","PrivateRoute","exact","path","route","login","App","router","ReactDOM","es","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.15234ea9.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst service = axios.create({\r\n    baseURL: 'http://rap2api.taobao.org/app/mock/123991',\r\n    timeout: 60000\r\n});\r\n\r\nservice.interceptors.response.use(// response 拦截器\r\n  response => {\r\n        return response.data\r\n  },\r\n  error => {\r\n   console.log('error')\r\n  }\r\n)\r\n\r\nexport const TotalTemplate = data => service.post('/template',data)\r\n","import {\r\n  TotalTemplate\r\n} from '../api/index'\r\n\r\nexport const ADD_TO_CART = 'ADD_TO_CART';\r\nexport const UPDATE_CART = 'UPDATE_CART';\r\nexport const DELETE_FROM_CART = 'DELETE_FROM_CART';\r\nexport const GET_AJAX_LIST = 'GET_AJAX_LIST';\r\n\r\n\r\nexport const initListAction = (action) => ({\r\n  type: GET_AJAX_LIST,\r\n  action\r\n})\r\n\r\nexport function addTo(data) {\r\n  return {\r\n    type: ADD_TO_CART,\r\n    payload: {\r\n      name: data\r\n    }\r\n  }\r\n}\r\n\r\nexport const ajaxList = () => {\r\n  return (dispatch) => {\r\n    TotalTemplate().then(res => {\r\n      let data = {data:res.data,type:true}\r\n      const action = initListAction(data)\r\n      dispatch(action)\r\n    })\r\n  }\r\n}\r\n\r\n\r\nexport function deleteFrom(index) {\r\n  return {\r\n    type: DELETE_FROM_CART,\r\n    payload: {\r\n      index\r\n    }\r\n  }\r\n}","import  { ADD_TO_CART,DELETE_FROM_CART,GET_AJAX_LIST}  from '../actions/cart-actions';\r\n\r\nconst initialState = {\r\n  cart: [\r\n    {\r\n      name: 'mik',\r\n    },\r\n    {\r\n      name: 'ubnt',    \r\n    }\r\n  ],\r\n  test:[]\r\n}\r\n\r\n\r\nexport default function(state=initialState, action) {\r\n  switch (action.type) {\r\n    case ADD_TO_CART: \r\n      return Object.assign({}, state, {\r\n          ...state,\r\n          cart: [...state.cart, action.payload]\r\n      })\r\n    case DELETE_FROM_CART: {\r\n      return {\r\n        ...state,\r\n        cart: state.cart.filter((item,index) => index !== action.payload.index)\r\n      }\r\n    }\r\n    case GET_AJAX_LIST: {\r\n      if(action.action.data!==undefined){\r\n        return {\r\n          ...state,\r\n          test: action.action.data.list\r\n        }\r\n      }else{\r\n        return {\r\n          ...state,\r\n          test: null\r\n        }\r\n      }\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}","import { combineReducers } from 'redux';\r\nimport cartReducer from './cart-reducer';\r\n\r\n\r\nconst allReducers = {\r\n  shoppingCart: cartReducer,\r\n}\r\n\r\nconst rootReducer = combineReducers(allReducers);\r\n\r\nexport default rootReducer;","import {  applyMiddleware,createStore } from \"redux\";\r\nimport rootReducer from './reducers/index';\r\nimport thunk from 'redux-thunk'\r\nlet store = createStore(\r\n    rootReducer,\r\n    applyMiddleware(thunk)\r\n);\r\n\r\nexport default store;","import React from 'react'\r\nimport { Route, Redirect } from 'react-router-dom'\r\nconst RrivateRoute = ({ component: Component, ...props }) => {\r\n    return <Route {...props} render={(p) => {\r\n        const login = localStorage.getItem('loginState');\r\n        if (login) {\r\n            return (\r\n                <Component {...props} />\r\n            )\r\n        } else {\r\n            return <Redirect to={{ pathname: '/login' }} />\r\n        }\r\n    }} />\r\n}\r\nexport default RrivateRoute","import React, { Component } from 'react';\r\n\r\nclass Login extends Component {\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      isLogin: localStorage.getItem('loginState'),\r\n    }\r\n  };\r\n  handleClick() {\r\n    localStorage.setItem('loginState', 1);\r\n    this.props.history.push({\r\n      pathname: '/'\r\n    })\r\n  }\r\n  render() {\r\n    return (\r\n      <div className=\"Login\">\r\n        <p>Login</p>\r\n        <button onClick={this.handleClick.bind(this)}>Login</button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;\r\n","import React, { Component } from 'react';\r\nimport { Link } from 'react-router-dom'\r\nfunction About() {\r\n  return (\r\n    <div>About</div>\r\n  );\r\n}\r\nclass Home extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      loginState:localStorage.getItem('loginState'),\r\n      list: [\r\n        { name: \"Login\", url: \"/login\" },\r\n        { name: \"Redux Page\", url: \"/reduxPage\" },\r\n        { name: \"Nested Route\", url: \"/ParentRouter\" },\r\n      ]\r\n    };\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"Login\">\r\n        <p>Home</p>\r\n        <ul>\r\n          {this.state.list.map((item, index) =>\r\n            <li key={index}>\r\n              <Link to={item.url}>{item.name}</Link>\r\n            </li>\r\n          )}\r\n        </ul>\r\n        <About/>\r\n        <button>Logout</button>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Home;\r\n","import React, {\r\n    Component\r\n} from \"react\";\r\n\r\nexport default function asyncComponent(importComponent) {\r\n    class AsyncComponent extends Component {\r\n        constructor(props) {\r\n            super(props);\r\n            this.state = {\r\n                component: null\r\n            };\r\n        }\r\n       async componentDidMount() {\r\n            const {\r\n                default: component\r\n            } = await importComponent();\r\n            this.setState({\r\n                component: component\r\n            });\r\n        }\r\n        render() {\r\n            const C = this.state.component;\r\n            return C ? < C {...this.props}/> : null;\r\n        }\r\n    }\r\n    return AsyncComponent;\r\n\r\n}","\r\nimport asyncComponent from \"../components/AsyncComponent\";\r\nconst AsyncReduxPage = asyncComponent(() => import(\"../page/reduxPage\"));\r\nconst AsyncParentRouter = asyncComponent(() => import(\"../page/ParentRouter\"));\r\n\r\nexport default {\r\n    menus: [ // 菜单相关路由\r\n        { key: '/reduxPage', title: 'reduxPage',  component: AsyncReduxPage },\r\n        { key: '/ParentRouter', title: 'ParentRouter',  component: AsyncParentRouter },\r\n    ],\r\n    others: [] // 非菜单相关路由\r\n}","import React from 'react';\r\nimport {\r\n    HashRouter,\r\n    Route,\r\n    Switch,\r\n    Redirect\r\n} from 'react-router-dom'\r\nimport RrivateRoute from '../PrivateRoute'\r\nimport login from '../page/login';\r\nimport Home from '../page/home';\r\nimport config from './config'\r\n\r\n\r\nclass Welcome extends React.Component {\r\n    render() {\r\n      return <h1>404</h1>;\r\n    }\r\n  }\r\n\r\nconst RootRouter = () => (\r\n<HashRouter >\r\n    <div className=\"App\" >\r\n        <Switch > {\r\n                config['menus'].map(r => {\r\n                    if( ['/reduxPage'].indexOf(r.key) !== -1){\r\n                        const route = r => {\r\n                            return (\r\n                                <RrivateRoute key={r.key} exact path={r.key}\r\n                                component={r.component}\r\n                                />\r\n                            )\r\n                        }\r\n                        return route(r) ;\r\n                    }else{\r\n                        return []\r\n                    }\r\n                    \r\n                })\r\n            } \r\n            <Route exact path=\"/login\" component={login}/> \r\n            <Route exact path=\"/404\" component={Welcome}/> \r\n            <RrivateRoute exact path=\"/\" component={Home}/>   \r\n            <Route render={() => <Redirect to=\"/404\" />} />             \r\n        </Switch> \r\n    </div> \r\n</HashRouter>\r\n)\r\n                        \r\nexport default RootRouter;","\n\nimport React, { Component } from 'react';\nimport RootRouter from './router/index.js'\n\nclass App extends Component {\n  render() {\n    return (\n      <div className=\"App\">\n        <RootRouter />\n      </div>\n    );\n  }\n}\nexport default App;\n","\n// index.js\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux';\nimport App from './App.js';\nimport store from './store'\n ReactDOM.render(\n   <Provider store={store}>\n    <App />\n   </Provider>,\n    document.getElementById('root')\n  );"],"sourceRoot":""}